`{"apiVersion":"helm.toolkit.fluxcd.io/v2beta1","kind":"HelmRelease","metadata":{"name":"redis","namespace":"default"},"spec":{"chart":{"spec":{"chart":"redis","reconcileStrategy":"ChartVersion","version":"18.1.0","sourceRef":{"kind":"HelmRepository","name":"bitnami"}}},"interval":"5m0s","releaseName":"redis","values":{"affinity":{},"architecture":"replication","auth":{"enabled":true,"existingSecret":"","existingSecretPasswordKey":"","password":"","sentinel":true,"usePasswordFiles":false},"backend":null,"backends":[],"cache":"","certificate":{"create":false,"dnsNames":["podinfo"],"issuerRef":{"kind":"ClusterIssuer","name":"self-signed"}},"clusterDomain":"cluster.local","commonAnnotations":{},"commonConfiguration":"# Enable AOF https://redis.io/topics/persistence#append-only-file\nappendonly yes\n# Disable RDB persistence, AOF persistence already enabled.\nsave \"\"","commonLabels":{},"diagnosticMode":{"args":["infinity"],"command":["sleep"],"enabled":false},"existingConfigmap":"","extraDeploy":[],"faults":{"delay":false,"error":false,"testFail":false,"testTimeout":false,"unhealthy":false,"unready":false},"fullnameOverride":"","global":{"imagePullSecrets":[],"imageRegistry":"","redis":{"password":""},"storageClass":""},"h2c":{"enabled":false},"host":null,"hpa":{"cpu":null,"enabled":false,"maxReplicas":10,"memory":null,"requests":null},"image":{"debug":false,"digest":"","pullPolicy":"IfNotPresent","pullSecrets":[],"registry":"docker.io","repository":"bitnami/redis","tag":"7.2.1-debian-11-r0"},"ingress":{"annotations":{},"className":"","enabled":false,"hosts":[{"host":"podinfo.local","paths":[{"path":"/","pathType":"ImplementationSpecific"}]}],"tls":[]},"kubeVersion":"","linkerd":{"profile":{"enabled":false}},"logLevel":"info","master":{"affinity":{},"args":[],"command":[],"configuration":"","containerPorts":{"redis":6379},"containerSecurityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"enabled":true,"runAsGroup":0,"runAsNonRoot":true,"runAsUser":1001,"seccompProfile":{"type":"RuntimeDefault"}},"count":1,"customLivenessProbe":{},"customReadinessProbe":{},"customStartupProbe":{},"disableCommands":["FLUSHDB","FLUSHALL"],"dnsConfig":{},"dnsPolicy":"","enableServiceLinks":true,"extraEnvVars":[],"extraEnvVarsCM":"","extraEnvVarsSecret":"","extraFlags":[],"extraVolumeMounts":[],"extraVolumes":[],"hostAliases":[],"initContainers":[],"kind":"StatefulSet","lifecycleHooks":{},"livenessProbe":{"enabled":true,"failureThreshold":5,"initialDelaySeconds":20,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":5},"minReadySeconds":0,"nodeAffinityPreset":{"key":"","type":"","values":[]},"nodeSelector":{},"persistence":{"accessModes":["ReadWriteOnce"],"annotations":{},"dataSource":{},"enabled":true,"existingClaim":"","labels":{},"medium":"","path":"/data","selector":{},"size":"8Gi","sizeLimit":"","storageClass":"","subPath":"","subPathExpr":""},"podAffinityPreset":"","podAnnotations":{},"podAntiAffinityPreset":"soft","podLabels":{},"podSecurityContext":{"enabled":true,"fsGroup":1001},"preExecCmds":[],"priorityClassName":"","readinessProbe":{"enabled":true,"failureThreshold":5,"initialDelaySeconds":20,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":1},"resources":{"limits":{},"requests":{}},"schedulerName":"","service":{"annotations":{},"clusterIP":"","externalIPs":[],"externalTrafficPolicy":"Cluster","extraPorts":[],"internalTrafficPolicy":"Cluster","loadBalancerIP":"","loadBalancerSourceRanges":[],"nodePorts":{"redis":""},"ports":{"redis":6379},"sessionAffinity":"None","sessionAffinityConfig":{},"type":"ClusterIP"},"serviceAccount":{"annotations":{},"automountServiceAccountToken":true,"create":false,"name":""},"shareProcessNamespace":false,"sidecars":[],"startupProbe":{"enabled":false,"failureThreshold":5,"initialDelaySeconds":20,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":5},"terminationGracePeriodSeconds":30,"tolerations":[],"topologySpreadConstraints":[],"updateStrategy":{"type":"RollingUpdate"}},"metrics":{"command":[],"containerSecurityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"enabled":true,"runAsGroup":0,"runAsNonRoot":true,"runAsUser":1001,"seccompProfile":{"type":"RuntimeDefault"}},"customLivenessProbe":{},"customReadinessProbe":{},"customStartupProbe":{},"enabled":false,"extraArgs":{},"extraEnvVars":[],"extraVolumeMounts":[],"extraVolumes":[],"image":{"digest":"","pullPolicy":"IfNotPresent","pullSecrets":[],"registry":"docker.io","repository":"bitnami/redis-exporter","tag":"1.54.0-debian-11-r0"},"livenessProbe":{"enabled":true,"failureThreshold":5,"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"podAnnotations":{"prometheus.io/port":"9121","prometheus.io/scrape":"true"},"podLabels":{},"prometheusRule":{"additionalLabels":{},"enabled":false,"namespace":"","rules":[]},"readinessProbe":{"enabled":true,"failureThreshold":3,"initialDelaySeconds":5,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":1},"redisTargetHost":"localhost","resources":{"limits":{},"requests":{}},"service":{"annotations":{},"clusterIP":"","externalTrafficPolicy":"Cluster","extraPorts":[],"loadBalancerIP":"","loadBalancerSourceRanges":[],"port":9121,"type":"ClusterIP"},"serviceMonitor":{"additionalLabels":{},"enabled":false,"honorLabels":false,"interval":"30s","metricRelabelings":[],"namespace":"","podTargetLabels":[],"relabellings":[],"sampleLimit":false,"scrapeTimeout":"","targetLimit":false},"startupProbe":{"enabled":false,"failureThreshold":5,"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5}},"nameOverride":"","nameResolutionThreshold":5,"nameResolutionTimeout":5,"networkPolicy":{"allowExternal":true,"enabled":false,"extraEgress":[],"extraIngress":[],"ingressNSMatchLabels":{},"ingressNSPodMatchLabels":{},"metrics":{"allowExternal":true,"ingressNSMatchLabels":{},"ingressNSPodMatchLabels":{}}},"nodeSelector":{},"pdb":{"create":false,"maxUnavailable":"","minAvailable":1},"podAnnotations":{},"podSecurityPolicy":{"create":false,"enabled":false},"probes":{"liveness":{"failureThreshold":3,"initialDelaySeconds":1,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"readiness":{"failureThreshold":3,"initialDelaySeconds":1,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"startup":{"enable":false,"failureThreshold":20,"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5}},"rbac":{"create":false,"rules":[]},"redis":{"enabled":false,"repository":"redis","tag":"7.0.7"},"replica":{"affinity":{},"args":[],"autoscaling":{"enabled":false,"maxReplicas":11,"minReplicas":1,"targetCPU":"","targetMemory":""},"command":[],"configuration":"","containerPorts":{"redis":6379},"containerSecurityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"enabled":true,"runAsGroup":0,"runAsNonRoot":true,"runAsUser":1001,"seccompProfile":{"type":"RuntimeDefault"}},"customLivenessProbe":{},"customReadinessProbe":{},"customStartupProbe":{},"disableCommands":["FLUSHDB","FLUSHALL"],"dnsConfig":{},"dnsPolicy":"","enableServiceLinks":true,"externalMaster":{"enabled":false,"host":"","port":6379},"extraEnvVars":[],"extraEnvVarsCM":"","extraEnvVarsSecret":"","extraFlags":[],"extraVolumeMounts":[],"extraVolumes":[],"hostAliases":[],"initContainers":[],"lifecycleHooks":{},"livenessProbe":{"enabled":true,"failureThreshold":5,"initialDelaySeconds":20,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":5},"minReadySeconds":0,"nodeAffinityPreset":{"key":"","type":"","values":[]},"nodeSelector":{},"persistence":{"accessModes":["ReadWriteOnce"],"annotations":{},"dataSource":{},"enabled":true,"existingClaim":"","labels":{},"medium":"","path":"/data","selector":{},"size":"8Gi","sizeLimit":"","storageClass":"","subPath":"","subPathExpr":""},"podAffinityPreset":"","podAnnotations":{},"podAntiAffinityPreset":"soft","podLabels":{},"podManagementPolicy":"","podSecurityContext":{"enabled":true,"fsGroup":1001},"preExecCmds":[],"priorityClassName":"","readinessProbe":{"enabled":true,"failureThreshold":5,"initialDelaySeconds":20,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":1},"replicaCount":3,"resources":{"limits":{},"requests":{}},"schedulerName":"","service":{"annotations":{},"clusterIP":"","externalTrafficPolicy":"Cluster","extraPorts":[],"internalTrafficPolicy":"Cluster","loadBalancerIP":"","loadBalancerSourceRanges":[],"nodePorts":{"redis":""},"ports":{"redis":6379},"sessionAffinity":"None","sessionAffinityConfig":{},"type":"ClusterIP"},"serviceAccount":{"annotations":{},"automountServiceAccountToken":true,"create":false,"name":""},"shareProcessNamespace":false,"sidecars":[],"startupProbe":{"enabled":true,"failureThreshold":22,"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"terminationGracePeriodSeconds":30,"tolerations":[],"topologySpreadConstraints":[],"updateStrategy":{"type":"RollingUpdate"}},"replicaCount":2,"resources":{"limits":null,"requests":{"cpu":"1m","memory":"16Mi"}},"secretAnnotations":{},"securityContext":{},"sentinel":{"annotations":{},"args":[],"automateClusterRecovery":false,"command":[],"configuration":"","containerPorts":{"sentinel":26379},"containerSecurityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"enabled":true,"runAsGroup":0,"runAsNonRoot":true,"runAsUser":1001,"seccompProfile":{"type":"RuntimeDefault"}},"customLivenessProbe":{},"customReadinessProbe":{},"customStartupProbe":{},"downAfterMilliseconds":60000,"enableServiceLinks":true,"enabled":false,"externalMaster":{"enabled":false,"host":"","port":6379},"extraEnvVars":[],"extraEnvVarsCM":"","extraEnvVarsSecret":"","extraVolumeMounts":[],"extraVolumes":[],"failoverTimeout":180000,"getMasterTimeout":99,"image":{"debug":false,"digest":"","pullPolicy":"IfNotPresent","pullSecrets":[],"registry":"docker.io","repository":"bitnami/redis-sentinel","tag":"7.2.1-debian-11-r0"},"lifecycleHooks":{},"livenessProbe":{"enabled":true,"failureThreshold":6,"initialDelaySeconds":20,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"masterSet":"mymaster","parallelSyncs":1,"persistence":{"accessModes":["ReadWriteOnce"],"annotations":{},"dataSource":{},"enabled":false,"labels":{},"medium":"","selector":{},"size":"100Mi","sizeLimit":"","storageClass":""},"preExecCmds":[],"quorum":2,"readinessProbe":{"enabled":true,"failureThreshold":6,"initialDelaySeconds":20,"periodSeconds":5,"successThreshold":1,"timeoutSeconds":1},"redisShutdownWaitFailover":true,"resources":{"limits":{},"requests":{}},"service":{"annotations":{},"clusterIP":"","externalTrafficPolicy":"Cluster","extraPorts":[],"headless":{"annotations":{}},"loadBalancerIP":"","loadBalancerSourceRanges":[],"nodePorts":{"redis":"","sentinel":""},"ports":{"redis":6379,"sentinel":26379},"sessionAffinity":"None","sessionAffinityConfig":{},"type":"ClusterIP"},"startupProbe":{"enabled":true,"failureThreshold":22,"initialDelaySeconds":10,"periodSeconds":10,"successThreshold":1,"timeoutSeconds":5},"terminationGracePeriodSeconds":30},"service":{"annotations":{},"enabled":true,"externalPort":9898,"grpcPort":9999,"grpcService":"podinfo","hostPort":null,"httpPort":9898,"metricsPort":9797,"nodePort":31198,"type":"ClusterIP"},"serviceAccount":{"annotations":{},"automountServiceAccountToken":true,"create":true,"name":""},"serviceBindings":{"enabled":false},"serviceMonitor":{"additionalLabels":{},"enabled":false,"interval":"15s"},"sysctl":{"command":[],"enabled":false,"image":{"digest":"","pullPolicy":"IfNotPresent","pullSecrets":[],"registry":"docker.io","repository":"bitnami/os-shell","tag":"11-debian-11-r60"},"mountHostSys":false,"resources":{"limits":{},"requests":{}}},"tls":{"authClients":true,"autoGenerated":false,"certCAFilename":"","certFilename":"","certKeyFilename":"","certificatesSecret":"","dhParamsFilename":"","enabled":false,"existingSecret":""},"tolerations":[],"ui":{"color":"#34577c","logo":"","message":""},"useExternalDNS":{"additionalAnnotations":{},"annotationKey":"external-dns.alpha.kubernetes.io/","enabled":false,"suffix":""},"useHostnames":true,"volumePermissions":{"containerSecurityContext":{"runAsUser":0},"enabled":false,"image":{"digest":"","pullPolicy":"IfNotPresent","pullSecrets":[],"registry":"docker.io","repository":"bitnami/os-shell","tag":"11-debian-11-r60"},"resources":{"limits":{},"requests":{}}}}}}`